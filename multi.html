<!doctype html>
<html>
	<head>
		<script>
			var angle = 0;
			var index = 0;
			function clickme (element){

				
				angle += 30;
				element.style.webkitTransform = "rotate(" + angle + "deg)";
			}

			function t(){
				var transforms = ["0% 0%", "100% 0%", "100% 100%", "0% 100%"];

				index++;
				var element = document.getElementById("move-one");
				element.style.webkitTransformOrigin = transforms[(index)%4];
				// var x = 100*(1-  Math.cos(angle * Math.PI / 180));
				// var y = 100*Math.sin(angle * Math.PI / 180);
				// console.log(x + ", " + y);
				// element.style.left = (element.offsetLeft - x) + "px";
				// element.style.top = (element.offsetTop + y) + "px";
			}
		</script>

		<style>

			body{
				padding: 0px;
				margin: 0px;
			}

			[class*="move-"]{
				position: absolute;
				width: 100px;
				height: 100px;
				background-color: #eee;
				border: 1px solid black;
				border-top: 1px solid red;
				border-bottom: 1px solid green;
			}

			.move-one{
				left: 200px;
				top: 200px;
				-webkit-transform-origin: 0% 0%;
			}

		</style>
	</head>

	<body>
		<div class="move-one" id="move-one" onclick="clickme(this)"></div>

		<button onclick="t()">Change origin</button>
	</body>
</html>